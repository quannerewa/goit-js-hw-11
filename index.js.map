{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functional.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = `50666263-41be0f694eb808efe4a214ed6`\nexport function getFetchImg(searchQuery) {\n    const params = new URLSearchParams({\n      key: API_KEY,\n      q: searchQuery,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    });\n  \n    return fetch(`${BASE_URL}?${params}`).then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    });\n  }","export function createMarkup(arr) {\n    return arr\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => `\n        <li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"200\" />\n          </a>\n          <ul class=\"info-list\">\n              <li class=\"info-item\">\n                <h3 class=\"item-title\">Likes</h3>\n                <p class=\"item-descr\">${likes}</p>\n              </li>\n              <li class=\"info-item\">\n                <h3 class=\"item-title\">Views</h3>\n                <p class=\"item-descr\">${views}</p>\n              </li>\n              <li class=\"info-item\">\n                <h3 class=\"item-title\">Comments</h3>\n                <p class=\"item-descr\">${comments}</p>\n              </li>\n              <li class=\"info-item\">\n                <h3 class=\"item-title\">Downloads</h3>\n                <p class=\"item-descr\">${downloads}</p>\n              </li>\n            </ul>\n        </li>\n    `\n      )\n      .join('');\n  }","import { getFetchImg } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functional';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst loader = document.querySelector('.loader-js');\nconst form = document.querySelector('.form-js');\nconst input = document.querySelector('.input-js');\nconst gallery = document.querySelector('.gallery-js');\n\nlet searchQuery;\n\nform.addEventListener('submit', handlerSubmit);\n\nfunction handlerSubmit(event) {\n  event.preventDefault();\n\n  gallery.innerHTML = '';\n  const searchQuery = input.value.trim();\n\n  if (!searchQuery) {\n    iziToast.show({\n      message: 'Sorry, the request cannot be empty. Please try again...',\n      position: 'topRight',\n      closeOnClick: true,\n      progressBar: false,\n      messageColor: 'white',\n      backgroundColor: '#ef4040',\n    });\n    return;\n  }\n\n  loader.style.display = 'block';\n\n  getFetchImg(searchQuery)\n    .then(data => {\n      if (!data.hits.length) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          closeOnClick: true,\n          progressBar: false,\n          messageColor: 'white',\n          backgroundColor: '#ef4040',\n        });\n        return;\n      }\n      console.log(data.hits);\n\n      gallery.insertAdjacentHTML('beforeend', createMarkup(data.hits));\n      const lightBox = new SimpleLightbox('.gallery a', {\n        captionDelay: 250,\n        captions: true,\n        captionsData: 'alt',\n      });\n      lightBox.refresh();\n    })\n    .catch(error =>\n      iziToast.show({\n        title: 'X',\n        message: `${error.message}`,\n        position: 'center',\n        color: 'red',\n      })\n    )\n    .finally(() => {\n      event.target.reset();\n      loader.style.display = 'none';\n    });\n}"],"names":["BASE_URL","API_KEY","getFetchImg","searchQuery","params","response","createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","loader","form","input","gallery","handlerSubmit","event","iziToast","data","SimpleLightbox","error"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCACT,SAASC,EAAYC,EAAa,CACrC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAClB,CAAK,EAED,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAM,EAAE,EAAE,KAAKC,GAAY,CACrD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACtB,CAAK,CACL,CCjBO,SAASC,EAAaC,EAAK,CAC9B,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACV,IAAc;AAAA;AAAA,0CAE4BL,CAAa;AAAA,8CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,wCAKhCC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,wCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAK1C,EACA,KAAK,EAAE,CACd,CC9BA,MAAMC,EAAS,SAAS,cAAc,YAAY,EAC5CC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAQ,SAAS,cAAc,WAAW,EAC1CC,EAAU,SAAS,cAAc,aAAa,EAIpDF,EAAK,iBAAiB,SAAUG,CAAa,EAE7C,SAASA,EAAcC,EAAO,CAC5BA,EAAM,eAAc,EAEpBF,EAAQ,UAAY,GACpB,MAAMf,EAAcc,EAAM,MAAM,KAAI,EAEpC,GAAI,CAACd,EAAa,CAChBkB,EAAS,KAAK,CACZ,QAAS,0DACT,SAAU,WACV,aAAc,GACd,YAAa,GACb,aAAc,QACd,gBAAiB,SACvB,CAAK,EACD,MACD,CAEDN,EAAO,MAAM,QAAU,QAEvBb,EAAYC,CAAW,EACpB,KAAKmB,GAAQ,CACZ,GAAI,CAACA,EAAK,KAAK,OAAQ,CACrBD,EAAS,KAAK,CACZ,QACE,2EACF,SAAU,WACV,aAAc,GACd,YAAa,GACb,aAAc,QACd,gBAAiB,SAC3B,CAAS,EACD,MACD,CACD,QAAQ,IAAIC,EAAK,IAAI,EAErBJ,EAAQ,mBAAmB,YAAaZ,EAAagB,EAAK,IAAI,CAAC,EAC9C,IAAIC,EAAe,aAAc,CAChD,aAAc,IACd,SAAU,GACV,aAAc,KACtB,CAAO,EACQ,QAAO,CACtB,CAAK,EACA,MAAMC,GACLH,EAAS,KAAK,CACZ,MAAO,IACP,QAAS,GAAGG,EAAM,OAAO,GACzB,SAAU,SACV,MAAO,KACf,CAAO,CACF,EACA,QAAQ,IAAM,CACbJ,EAAM,OAAO,QACbL,EAAO,MAAM,QAAU,MAC7B,CAAK,CACL"}